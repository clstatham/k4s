; printstrln(str)
%printstrln
   push q bp
   mov q bp sp
   mov b rd [rg]
   and b rd $0xff
   cmp b rd $0
   jeq q %printstrln_ret
%printstrln_loop
   printc b [rg]
   add q rg $1
   mov b rd [rg]
   and b rd $0xff
   cmp b rd $0
   jne q %printstrln_loop
%printstrln_ret
   printc b $0x0a
   pop q bp
   ret